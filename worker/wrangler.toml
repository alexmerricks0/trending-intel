name = "trending-intel-worker"
main = "src/index.ts"
compatibility_date = "2024-12-01"

[triggers]
crons = ["0 6 * * *"]

[[d1_databases]]
binding = "DB"
database_name = "trending-intel-db"
database_id = "9ea57621-6989-44a3-8444-7196cfb2c4b2"

[vars]
ENVIRONMENT = "development"
ALLOWED_ORIGINS = "http://localhost:5173,https://trending.lfxai.dev,https://trending-intel.pages.dev"

[env.production]
name = "trending-intel-worker"

[env.production.vars]
ENVIRONMENT = "production"
ALLOWED_ORIGINS = "https://trending.lfxai.dev,https://trending-intel.pages.dev"

[[env.production.d1_databases]]
binding = "DB"
database_name = "trending-intel-db"
database_id = "9ea57621-6989-44a3-8444-7196cfb2c4b2"

# Secrets (set via wrangler secret put):
# ANTHROPIC_API_KEY
# GITHUB_TOKEN
